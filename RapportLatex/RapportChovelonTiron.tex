\documentclass[12pt,a4paper]{report}
\usepackage{geometry}
\geometry{hmargin=2.5cm,vmargin=1.5cm}
\usepackage[utf8]{inputenc}
\usepackage[francais]{babel}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{lmodern}
\usepackage{xcolor}
\usepackage{cover}
\usepackage{fancyhdr}
\usepackage[final]{pdfpages}
\usepackage{eurosym}

\pagestyle{fancy}
\lhead{Pierrick CHOVELON - Julien TIRON}
\rhead{INF 112}

%%%% debut macro %%%%
\makeatletter
\renewcommand{\fnum@figure}{\small\textbf{\figurename~\thefigure}}
\renewcommand{\fnum@table}{\small\textbf{\tablename~\thetable}}
\makeatother
%%%% fin macro %%%%


\renewcommand{\familydefault}{\sfdefault} 
%\renewcommand{\scdefault}{\sfdefault} 

\definecolor{VertClair}{cmyk}{0.4,0.1,1,0}
\definecolor{VertFonce}{cmyk}{1,0.55,0.5,0.5}
% \makeatletter
% \renewcommand\section{\@startsection {section}{1}{\z@}%
%                                    {-3.5ex \@plus -1ex \@minus -.2ex}%
%                                    {2.3ex \@plus.2ex}%
%                                    {\normalfont\Large\bfseries\color{VertClair}}}
%\parskip=3pt

\renewcommand{\chaptername}{} %les chapitres auront pour texte "Partie"

\begin{document}

\frontcover{
    Binôme :\\
    Pierrick CHOVELON\\
    Julien TIRON\\
    \vspace{1cm}
    FIP 1A}
  {Rapport Projet ToutAvis\\[10pt] INF112}
  {Formation d'ingénieur par partenariat
  \vspace{1cm}}
  {Version : 1\\ 
  \vspace{1cm}
  26 mai 2015}

\newpage
\tableofcontents
\newpage

\chapter*{Introduction}
\label{chapter:Introduction} %Ajout dans la table des matières
\addcontentsline{toc}{chapter}{Introduction}
\indent Ce rapport a pour but de dresser un bilan le plus complet possible du projet mené en INF112. Vous trouverez dans ce rapport les différentes informations concernants le projet ToutAvis et le travail que nous avons fourni pour le mener à bien. Vous trouverez dans chaque section quelques explications permettant de mieux comprendre notre démarche.

\chapter*{Fiche tâches/temps}
\label{chapter:Fiche tâches/temps} %Ajout dans la table des matières
\addcontentsline{toc}{chapter}{Fiches tâches/temps}

\begin{flushleft}
\begin{tabular}{|c|c|c|p{3cm}|} 
\hline 
Séance & Temps passé en P.H & Temps passé hors séance en P.H & Détails de l'activités \\ 
\hline 
BE1 & 2x3h & 0 & Rédaction du CdCF \\ 
\hline 
BE2 & 2x3h & 2x2h & Rédaction de la stratégie de validation, de la fiche de tests et codage des tests \\ 
\hline 
BE3 & 2x3h & 2x1h & Élaboration diagrammes \\ 
\hline 
TP1 & 2x3h & 2x1h & Javadoc et début codage \\ 
\hline 
TP2 & 2x3h & 2x2h + 1h & Codage des méthodes et des tests \\ 
\hline 
TP3 & 2x3h & 2x4h & Ajout de la fonctionnalité <<noter un avi>> \\ 
\hline 
TP4 & 2x3h & 2x3h & Mise à jour du code de la moyenne en prenant en compte le karma du membre  \\ 
\hline 
TP5 & 2x3h & 2x2h & Modification de code selon les remarques du groupe qui à fait la relecture \\
\hline 
TP6 & 2x3h & 2x1h + 3h & Modifications minimes du code et ajout information dans la javadoc\\
\hline
Total : $90 P.H$ & 54  & 36 &\\ 
\hline 
\end{tabular} 
\end{flushleft}

\begin{quotation}
\textit{• Productivité en lignes de code source :}
\end{quotation}

La métrique de notre projet remonte que nous avons écrit 945 lignes de code pour le package \emph{avis} (sans les tests ni les commentaires). En estimant avoir travaillé 90 heures, nous arrivons à $\frac{945}{90} = 10.5$ lignes de codes par heure pour deux personnes. Ainsi un membre du binôme a écrit 5 lignes par heure de travail. 

\begin{quotation}
\textit{• Résultat financier de l'exercice :}
\end{quotation}

En partant du principe que le cout de revient d'une heure de travail d'un ingénieur junior s'élève à 60\euro{}  et que le projet a nécessité 87 heures de travail, nous chiffrons le coût de notre activité à $5220$\euro{}. 

\begin{quotation}
\textit{• Coût de la facturation du projet au client :}
\end{quotation}



\chapter*{Diagramme de classes et diagrammes de séquences}

\label{chapter:Diagramme de classes et diagrammes de séquences} %Ajout dans la table des matières
\addcontentsline{toc}{chapter}{Diagramme de classes et diagrammes de séquences}
Vous trouverez dans les pages suivantes, les 3 diagrammes qui nous ont été demandés. \\

Nous avons essayé de faire un diagramme de classe le plus simple possible pour facilité la compréhension de la structure du projet pour des personnes extérieur à celui-ci. Certaines méthodes déclarées en \emph{private} n'apparaissent pas ici (caprises de eUML). Elles se trouvent néanmoins dans la javadoc et dans les annexes.

Le diagramme de séquence de reviewOpinion (Fig. \ref{fig:diagSeq1}) peut sembler trop simple. Nous avons choisi de ne représenter que le cas de fonctionnement normal (i.e les données passées en paramêtres sont valides). 

\begin{figure}[h]
\centering
\includegraphics[angle = 90, scale=0.85]{Classe1.png}
\caption{Diagramme général de classes}
\label{fig:diagClasses1}
\end{figure}

\begin{figure}[h]
\centering
\includegraphics[angle = 90, scale=0.85]{Sequence1.png}
\caption{Diagramme de séquence de reviewOpinion}
\label{fig:diagSeq1}
\end{figure}


\begin{figure}[h]
\centering
\includegraphics[angle = 90, scale=0.85]{Sequence2.png}
\caption{Diagramme de séquence de reviewItemBook}
\label{fig:diagSeq2}
\end{figure}

\chapter*{Rapport d'audit}
\label{chapter:Rapport d'audit} %Ajout dans la table des matières
\addcontentsline{toc}{chapter}{Rapport d'audit}
Le rapport d'audit effectué par un autre binôme nous a amené à changer notre code. Au total, se sont 8 remarques qui nous ont été faites. 7 d'entre elles concernaient un problème de fond et 1 un problème de forme. Nous avons acceptés 7 remarques. La remarque que nous avons refusée ne nous semblait pas opportune (gravité mineure). \\

La remarque de forme était très pertinente. En effet, le problème remonté était que nous utilisions toujours les mêmes conditions pour tester la validité des paramêtres donnés (\emph{pseudo}, \emph{password}, etc). Le copier-coller, rendant la tâche facile, nous à permis de réutiliser les condions des blocs \emph{if} aisément. Cependant, il est plus ingénieux et réfléchis de créer des fonctions qui renvoient \emph{true} ou \emph{false} selon un paramêtre donné. Ainsi, s'il faut modifier la manière dont est testé le \emph{password} par exemple, il suffit de modifier la fonction. Toutes les conditions utilisant cette fonction seront donc à jour, contrairement à la méthode que nous avions utilisée.\\

Les autres remarques, bien que pertinentes, n'étaient pas très graves et relevaient la plupart du temps d'un manque d'explications dans notre code.

\chapter*{Rapport de recette}
\label{chapter:Rapport de recette} %Ajout dans la table des matières
\addcontentsline{toc}{chapter}{Rapport de recette}

\begin{tabular}{|p{2.1cm}|p{1.5cm}|p{1.5cm}|p{1.5cm}|p{1.5cm}|p{2cm}|p{2cm}|}
\hline 
Nombre de tests prévus & Tests passés & Tests OK & Tests Non OK & Tests NS & Anomalies majeures & Anomalies mineures \\ 
\hline 
8 & 8 & 8 & 0 & 0 & 0 & 1 \\ 
\hline 
\end{tabular} 

\begin{tabular}{|c|p{4cm}|p{4cm}|p{4cm}|} 
\hline 
Numéro & Identification du test & Résultats & Gravité \\ 
\hline 
1 & Test en environnement «prestataire» : avec instructions du fichier «alire». & OK, pas d'erreur, mais il n'est pas possible de tester le lot2 depuis l'IHM & Mineure \\ 
\hline 
2 & TestsInitialisation & ok & RAS \\ 
\hline 
3 & TestsAddMember & ok & RAS \\ 
\hline 
4 & TestsAddItemFilm & ok & RAS \\ 
\hline 
5 & TestsAddItemBook & ok & RAS \\ 
\hline 
6 & TestsReviewItemFilm & ok & RAS \\ 
\hline 
7 & TestsReviewItemBook & ok & RAS \\ 
\hline 
8 & TestsReviewOpinion & ok & RAS \\ 
\hline 
\end{tabular}\\

Lors de cette recette, aucune erreur importante n'a été relevée par le binôme client. Aucune modification n'a donc été apportée. Le fait que nos tests, ainsi que les tests du binôme client, ne relèvent aucune erreur nous permet donc de s'assurer de la conformité de notre livrable par rapport au cahier des charges.

Ci-dessous les fiches de tests du binôme correcteur.

\begin{figure}

\textbf{\begin{center}
Fiche de test N3   
\end{center}} 

\textbf{Objectif du test }: éprouver la méthode addItemFilm sur les cas d'anomalie. 
Vérification de la levée de l'exception BadEntry lors de l'utilisation de AddItemFilm « avec des paramètres d'entrées incorrects ». 
\textbf{Pour rappel }: Les 5 cas de levée de l'exception BadEntry par la méthode addItemFilm prévus dans l'API sont :
\begin{itemize}
	\item	Si le pseudo n’est pas instancié ou a moins de 1 caractère autre que des espaces.
	\item	Si le password n’est pas instancié ou a moins de 4 caractères autres que des leadings or traling blanks.
	\item	Si le titre n’est pas instancié ou a moins de 1 caractère autre que des espaces.
	\item	Si le genre n’est pas instancié.
	\item	Si le réalisateur n’est pas instancié.
	\item	Si le scénariste n’est pas instancié.
	\item	Si la durée n’est pas positive
\end{itemize}

\textbf{Description (scénario) :}
\begin{itemize}
	\item	Instanciation d’un Social Network
	\item	1.1 Utilisation de AddItemFilm avec en paramètre un pseudo non instancié.
	\item	1.2 Utilisation de AddItemFilm avec en paramètre un pseudo ne contenant que des espaces.
	\item	1.3 Utilisation de AddItemFilm avec en paramètre un titre non instancié.
	\item	1.4 Utilisation de AddItemFilm avec en paramètre un titre ne contenant moins d’un caractère autres que des leadings or traling blanks.
	\item	1.5 Utilisation de AddItemFilm avec en paramètre un genre non instancié.
	\item	1.6 Utilisation de AddItemFilm avec en paramètre un réalisateur non instancié.
	\item	1.7 Utilisation de AddItemFilm avec en paramètre un scénariste non instancié.
	\item	1.8 Utilisation de AddItemFilm avec en paramètre une durée négative.
\end{itemize}

\textbf{Résultats attendus :}
Dans les 8 cas d’utilisations de AddItemFilm, l’exception BadEntry doit être levée.
De plus, après la levée de l’exception BadEntry lors de l’utilisation de AddItemFilm, le nombre de films doit rester identique au nombre de Film avant l’utilisation de AddItemFilm.

\textbf{Résultats observés :}

Les 8 cas d'utilisation lèvent bien une exception BadEntry comme prévu, le nombre de films n'a pas été modifié.

\textbf{Conclusion :}

Les tests sont concluants, l'application respecte le CdC.
\caption{Fiche de tests numéro 3}
\end{figure}

\begin{figure}
\textbf{\begin{center}
Fiche de test N4 
\end{center}} 

\textbf{Objectif du test} : éprouver la méthode AddItemFilm sur les cas de fonctionnement standard.

\begin{itemize}
	\item	But principal : Vérification de l’ajout d’un nouvel item de film après l’utilisation de AddItemFilm après un fonctionnement « avec des paramètres d’entrées corrects ».	
	\item	Buts secondaires : 
\begin{itemize}
	\item	Vérification de la levée d’exception NotMember par la méthode AddItemFilm dans tous les cas prévu dans l’API.

	\item	Vérification de la levée d’exception ItemFilmAlreadyExists par la méthode AddItemFilm dans tous les cas prévu dans l’API.
\end{itemize}
\end{itemize}


\textbf{Description (scénario) :}
\begin{itemize}
	\item 	Instanciation d’un Social Network
	\item 	2.1 Utilisation de AddItemFilm pour l’ajout de plusieurs Item « avec des paramètres d’entrées corrects »
	\item 	2.2 Utilisation de AddItemFilm avec en paramètre un pseudo non existant.
	\item 	2.3 Utilisation de AddItemFilm avec en paramètre un couple login/password non cohérent.
	\item  2.4 Utilisation de AddItemFilm avec en paramètre un item film de même titre déjà présent (mais avec des leadings et trailings blanks).
\end{itemize}

\textbf{Résultats attendus :}

L’ajout d’item de Film « avec des paramètres d’entrée corrects » ne doit pas lever d’exception, le nombre d’items de Film après ces ajouts doit avoir augmenté en conséquence.
Dans les 2 utilisations suivantes de AddItemFilm, l’exception NotMember doit être levée.
Dans la dernière utilisation, l’exception ItemFilmAlreadyExists doit être levée.

De plus, après la levée de ces deux exceptions, le nombre d’items de Film doit rester identique au nombre d’items de Film avant l’appel de la fonction AddItemFilm.

\textbf{Résultats observés :}

Les résultats sont en concordance avec ce qui était attendu.

\textbf{Conclusion :}

Le code respecte le CdC.

\caption{Fiche de test numéro 4}
\end{figure}

\begin{figure}
\textbf{\begin{center}
Fiche de test N11  
\end{center}} 
\textbf{Objectif du test :} éprouver la méthode reviewOpinion sur les cas d'anomalie. 

Vérification de la levée de l'exception BadEntry lors de l'utilisation de reviewOpinion « avec des paramètres d'entrées incorrects ». 
Pour rappel : Les 5 cas de levée de l'exception BadEntry par la méthode reviewOpinion prévus dans l'API sont :
\begin{itemize}
	\item Si le pseudo n’est pas instancié ou a moins de 1 caractère autre que des espaces.
	\item 	Si le password n’est pas instancié ou a moins de 4 caractères autres que des leadings or trailing blanks.
	\item 	Si le titre n’est pas instancié ou a moins de 1 caractère autre que des espaces.
	\item 	Si le genre n’est pas instancié.
	\item 	Si le réalisateur n’est pas instancié.
	\item 	Si le scénariste n’est pas instancié.
	\item 	Si la durée n’est pas positive.
\end{itemize}
\textbf{Description (scénario) :}
\begin{itemize}
	\item	Instanciation d’un Social Network
	\item	1.1 Utilisation de ReviewOpinion avec en paramètre un pseudo non instancié.
	\item	1.2 Utilisation de ReviewOpinion avec en paramètre un pseudo ne contenant que des espaces.
	\item	1.3 Utilisation de ReviewOpinion avec en paramètre un titre non instancié.
	\item	1.4 Utilisation de ReviewOpinion avec en paramètre un titre ne contenant moins d’un caractère autres que des leadings or traling blanks.
	\item	1.5 Utilisation de ReviewOpinion avec en paramètre un genre non instancié.
	\item	1.6 Utilisation de ReviewOpinion avec en paramètre un réalisateur non instancié.
	\item	1.7 Utilisation de ReviewOpinion avec en paramètre un scénariste non instancié.
	\item	1.8 Utilisation de ReviewOpinion avec en paramètre une durée négative.
\end{itemize}

\textbf{Résultats attendus :}

Dans les 8 cas d’utilisations de ReviewOpinion, l’exception BadEntry doit être levée.
De plus, après la levée de l’exception BadEntry lors de l’utilisation de ReviewOpinion, le nombre de films doit rester identique au nombre de Film avant l’utilisation de ReviewOpinion.

\textbf{Résultats observés :}

Les exceptions sont levées correctement.

\textbf{Conclusion :}

Le CdC est respecté.

\caption{Fiche de test numéro 11}
\end{figure}


\begin{figure}
\textbf{\begin{center}
Fiche de test N12  
\end{center}} 
\textbf{Objectif du test :} éprouver la méthode reviewOpinion sur les cas de fonctionnement standard. 

\textbf{But principal :} vérification de l'ajout d'une opinion après l'utilisation de reviewOpinion avec des paramètres d'entrée corrects.

\textbf{But secondaire :} vérification des levées des exception NotItem, NotMember.

\textbf{Description (scénario) :}
\begin{itemize}
	\item	Instanciation d’un Social Network
	\item	Utilisation de addMember pour l'ajout de plusieurs membres avec paramètres d'entrées corrects.
	\item	Utilisation de addItemBook pour l'ajout de deux Items Book.
	\item	Utilisation de addItemFilm pour l'ajout d'un Item Film.
	\item	Utilisation de ReviewItemBook pour création d'une opinion sur les deux items Book.
	\item	Utilisation de  ReviewItemFilm pour création d'une opinion sur  l'Item Film.
	\item	1.1 Utilisation de ReviewOpinion avec paramètres d'entrée corrects pour review des trois items crées.
	\item	1.2 Utilisation de ReviewOpinion avec en paramètre un Membre inexistant.
	\item	1.3 Utilisation de ReviewOpinion avec en paramètre un titre d' Item inexistant.
	\item	1.4 Utilisation de ReviewOpinion avec en paramètre un pseudo de « reviewer » inexistant.
\end{itemize}
\textbf{Résultats attendus :}

Dans les 3 derniers cas d’utilisations de ReviewOpinion, les exceptions NotItem et NotMember doivent être levées.
L'utilisation standard de ReviewOpinion doit modifier le karma de l'auteur de la review pour l'item concerné.

\textbf{Résultats observés :}

Les résultats observés sont conformes.

\textbf{Conclusion :}

Le code respecte le CdC.
\caption{Fiche de test numéro 12}
\end{figure}

\begin{figure}
\textbf{\begin{center}
Fiche de test N5
\end{center}}
\textbf{Objectif du test :} éprouver la méthode reviewItemFilm sur les cas d'anomalie. Vérification de la levée de l'exception BadEntry lors de l'utilisation de reviewItemFilm « avec des paramètres d'entrées incorrects ».
\textbf{Pour rappel :} Les 5 cas de levée de l'exception BadEntry par la méthode reviewItemFilm prévus dans l'API sont :  
\begin{itemize}
	\item	Si le pseudo n’est pas instancié ou a moins de 1 caractère autre que des espaces.
	\item	Si le password n’est pas instancié ou a moins de 4 caractères autres que des leadings or traling blanks. 
	\item	Si le titre n’est pas instancié ou a moins de 1 caractère autre que des espaces. 
	\item	Si la note n'est pas comprise entre 0.0 et 5.0 
	\item	Si le commentaire n’est pas instancié. 
\end{itemize}
\textbf{Description (scénario) :}
\begin{itemize}
    \item	Instanciation d’un Social Network 
	\item	Instanciation de trois utilisateurs 
	\item	Instanciation de trois films 
	\item	1.1 Utilisation de reviewItemFilm avec en paramètre un pseudo non instancié. 
	\item	1.2 Utilisation de reviewItemFilm avec en paramètre un pseudo ne contenant que des espaces. 
	\item	1.3 Utilisation de reviewItemFilm avec en paramètre un password non instancié. 
	\item	1.4 Utilisation de reviewItemFilm avec en paramètre un password contenant moins de 4 caractères autres que des leading et trailing blanks. 
	\item	1.5 Utilisation de reviewItemFilm avec en paramètre un titre non instancié. 
	\item	1.6 Utilisation de reviewItemFilm avec en paramètre un titre ne contenant que des espaces . 
	\item	1.7 Utilisation de reviewItemFilm avec en paramètre une note négative 
	\item	1.8 Utilisation de reviewItemFilm avec en paramètre une note supérieure à 5.0 
	\item	1.9 Utilisation de reviewItemFilm avec en paramètre un commentaire non instancié. 
\end{itemize}

\textbf{Résultats attendus : }
Dans les 9 cas d’utilisations de reviewItemFilm, l’exception BadEntry doit être levée. 
De plus, après la levée de l’exception BadEntry lors de l’utilisation de reviewItemFilm, le nombre de films doit rester identique au nombre de Film avant l’utilisation de reviewItemFilm. 

\textbf{Résultats observés : }
Résultats conformes.

\textbf{Conclusion : }
CdC respecté.
\caption{Fiche de test numéro 5}
\end{figure}


\begin{figure}
\textbf{\begin{center}
Fiche de test N6 
\end{center}} 
\begin{itemize}
\item
\end{itemize}

\begin{itemize}
\item
\end{itemize}
\caption{Fiche de test numéro 6}
\end{figure}



\chapter*{Bilan}
\label{chapter:Bilan} %Ajout dans la table des matières
\addcontentsline{toc}{chapter}{Bilan}


\chapter*{Bilan général}
\label{chapter:Bilan général} %Ajout dans la table des matières
\addcontentsline{toc}{chapter}{Bilan général}
Pour dresser un bilan général du travail réalisé, nous pouvons tout d'abord dire que nous avons réussi à s'organiser au sein du binôme pour se répartir au mieu les tâches. De plus, l'utilisation de solution de <<versioning>> à grandement facilité le partage et la mise en commun du code.
\begin{quotation}
\textit{• Quels sont les points faibles et les points forts de votre livrable ?}
\end{quotation}

Le livrable que nous proposons est, d'une part, simple à comprendre grâce à la javadoc et, d'autre part, fidèle au cahier des charges grâce notamment à la batterie de tests effectués sur celui-ci. En plus des tests <<classiques>> sur les méthodes et les classes qui vont être utilisées, nous avons effectués des tests de rendement sur l'utisalisation de celle-ci. 

\begin{quotation}
\textit{• Si c'était à refaire, que changerions-nous, le cas échéant, dans notre démarche de conception-réalisation ?}
\end{quotation}

Pour reprendre la remarque relevée lors du rapport d'audit, nous pouvons dire qu'une des erreurs que nous avons faite a été de commencer le codage des méthodes trop rapidement. En soit, le premier code proposé n'était pas mauvais, mais il n'était pas correctement structuré. En effet, un temps de réflexion au préalable, sur les fonctions et les conditions qui allaient être appelées fréquement, nous aurait permis de gagner du temps en fin de projet. 

\begin{quotation}
\textit{• Quels sont les avantages et inconvénients trouvés dans la démarche de conception en W ?}
\end{quotation}


\chapter*{Annexes}
\label{chapter:Annexes} %Ajout dans la table des matières
\addcontentsline{toc}{chapter}{Annexes}



\end{document}